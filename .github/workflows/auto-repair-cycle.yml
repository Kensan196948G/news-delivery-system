name: Auto Repair Cycle

on:
  schedule:
    # ã‚¨ãƒ©ãƒ¼æ¤œçŸ¥: 30åˆ†ãŠãã®ç¶™ç¶šç›£è¦–
    - cron: '*/30 * * * *'
  
  workflow_dispatch:
    inputs:
      repair_type:
        description: 'ä¿®å¾©ã‚¿ã‚¤ãƒ—'
        required: true
        default: 'auto'
        type: choice
        options:
        - auto
        - security
        - dependency
        - quality
        - emergency

permissions:
  contents: write
  issues: write
  pull-requests: write
  actions: write
  security-events: write

jobs:
  # ğŸ” Phase 1: ã‚¨ãƒ©ãƒ¼æ¤œçŸ¥(30åˆ†ãŠã)
  error-detection:
    runs-on: ubuntu-latest
    outputs:
      issues_found: ${{ steps.detect.outputs.issues_found }}
      repair_needed: ${{ steps.detect.outputs.repair_needed }}
      issue_types: ${{ steps.detect.outputs.issue_types }}
    
    steps:
    - uses: actions/checkout@v4
      with:
        fetch-depth: 0
        
    - name: Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.12'
        
    - name: Install analysis tools
      run: |
        python -m pip install --upgrade pip
        pip install safety bandit flake8 black isort mypy pytest
        pip install -r requirements-minimal.txt || echo "Requirements install issues detected"
        
    - name: Comprehensive Error Detection
      id: detect
      run: |
        echo "=== ğŸ” 24/7ç¶™ç¶šç›£è¦– - ã‚¨ãƒ©ãƒ¼æ¤œçŸ¥ãƒ•ã‚§ãƒ¼ã‚º ===" 
        
        ISSUES_FOUND=0
        REPAIR_NEEDED=false
        ISSUE_TYPES=()
        
        # 1. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§æ¤œå‡º
        echo "ğŸ›¡ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ¤œæŸ»ä¸­..."
        if ! safety check --json > security-check.json 2>/dev/null; then
          echo "âŒ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§æ¤œå‡º"
          ISSUES_FOUND=$((ISSUES_FOUND + 1))
          ISSUE_TYPES+=("security")
          REPAIR_NEEDED=true
        fi
        
        if ! bandit -r . -f json -o bandit-report.json 2>/dev/null || grep -q '"severity": "HIGH"' bandit-report.json 2>/dev/null; then
          echo "âŒ é«˜ãƒªã‚¹ã‚¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å•é¡Œæ¤œå‡º"
          ISSUES_FOUND=$((ISSUES_FOUND + 1))
          ISSUE_TYPES+=("security_high")
          REPAIR_NEEDED=true
        fi
        
        # 2. ä¾å­˜é–¢ä¿‚å•é¡Œæ¤œå‡º
        echo "ğŸ“¦ ä¾å­˜é–¢ä¿‚æ¤œæŸ»ä¸­..."
        if ! pip check > dependency-check.txt 2>&1; then
          echo "âŒ ä¾å­˜é–¢ä¿‚ç«¶åˆæ¤œå‡º"
          ISSUES_FOUND=$((ISSUES_FOUND + 1))
          ISSUE_TYPES+=("dependency")
          REPAIR_NEEDED=true
        fi
        
        # 3. ã‚³ãƒ¼ãƒ‰å“è³ªå•é¡Œæ¤œå‡º
        echo "ğŸ“ ã‚³ãƒ¼ãƒ‰å“è³ªæ¤œæŸ»ä¸­..."
        if find src/ -name "*.py" -exec python -m py_compile {} \; 2>/dev/null | grep -q "SyntaxError"; then
          echo "âŒ æ§‹æ–‡ã‚¨ãƒ©ãƒ¼æ¤œå‡º"
          ISSUES_FOUND=$((ISSUES_FOUND + 1))
          ISSUE_TYPES+=("syntax")
          REPAIR_NEEDED=true
        fi
        
        if [ -d "src/" ] && ! flake8 src/ --max-line-length=88 --extend-ignore=E203,W503 > /dev/null 2>&1; then
          echo "âŒ ã‚³ãƒ¼ãƒ‰å“è³ªå•é¡Œæ¤œå‡º"
          ISSUES_FOUND=$((ISSUES_FOUND + 1))
          ISSUE_TYPES+=("quality")
          REPAIR_NEEDED=true
        fi
        
        # 4. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«æ•´åˆæ€§æ¤œæŸ»
        echo "âš™ï¸ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«æ¤œæŸ»ä¸­..."
        critical_files=("requirements.txt" ".github/workflows/ci-cd.yml" "src/main.py")
        for file in "${critical_files[@]}"; do
          if [ ! -f "$file" ]; then
            echo "âŒ é‡è¦ãƒ•ã‚¡ã‚¤ãƒ«ä¸è¶³: $file"
            ISSUES_FOUND=$((ISSUES_FOUND + 1))
            ISSUE_TYPES+=("missing_file")
            REPAIR_NEEDED=true
          fi
        done
        
        # 5. GitçŠ¶æ…‹æ¤œæŸ»
        echo "ğŸ”„ GitçŠ¶æ…‹æ¤œæŸ»ä¸­..."
        if [ "$(git status --porcelain | wc -l)" -gt 0 ]; then
          echo "âš ï¸ æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´æ¤œå‡º"
          ISSUE_TYPES+=("uncommitted")
        fi
        
        # çµæœå‡ºåŠ›
        echo "issues_found=$ISSUES_FOUND" >> $GITHUB_OUTPUT
        echo "repair_needed=$REPAIR_NEEDED" >> $GITHUB_OUTPUT
        echo "issue_types=$(IFS=,; echo "${ISSUE_TYPES[*]}")" >> $GITHUB_OUTPUT
        
        echo "ğŸ“Š æ¤œå‡ºçµæœ:"
        echo "- æ¤œå‡ºå•é¡Œæ•°: $ISSUES_FOUND"
        echo "- è‡ªå‹•ä¿®å¾©å¿…è¦: $REPAIR_NEEDED"
        echo "- å•é¡Œã‚¿ã‚¤ãƒ—: ${ISSUE_TYPES[*]}"

  # ğŸ”§ Phase 2: è‡ªå‹•ä¿®å¾©
  auto-repair:
    needs: error-detection
    if: needs.error-detection.outputs.repair_needed == 'true'
    runs-on: ubuntu-latest
    outputs:
      repair_successful: ${{ steps.repair.outputs.repair_successful }}
      pr_needed: ${{ steps.repair.outputs.pr_needed }}
    
    steps:
    - uses: actions/checkout@v4
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        
    - name: Set up Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.12'
        
    - name: Install repair tools
      run: |
        python -m pip install --upgrade pip
        pip install safety bandit flake8 black isort mypy
        pip install pip-tools
        
    - name: Automated Repair Process
      id: repair
      run: |
        echo "=== ğŸ”§ è‡ªå‹•ä¿®å¾©ãƒ•ã‚§ãƒ¼ã‚º - æ•°åˆ†ã§ä¿®å¾©å®Œäº† ===" 
        
        REPAIR_SUCCESSFUL=false
        PR_NEEDED=false
        CHANGES_MADE=()
        
        # Gitè¨­å®š
        git config --global user.name "Auto-Repair Bot"
        git config --global user.email "auto-repair@news-delivery-system.local"
        
        # ä¿®å¾©ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
        REPAIR_BRANCH="auto-repair/$(date +%Y%m%d-%H%M%S)"
        git checkout -b "$REPAIR_BRANCH"
        
        # 1. ä¾å­˜é–¢ä¿‚è‡ªå‹•ä¿®å¾©
        if echo "${{ needs.error-detection.outputs.issue_types }}" | grep -q "dependency"; then
          echo "ğŸ“¦ ä¾å­˜é–¢ä¿‚ä¿®å¾©ä¸­..."
          
          # ç«¶åˆè§£æ±º
          pip install pip-tools
          pip-compile requirements.txt --upgrade > requirements-fixed.txt 2>/dev/null || echo "Compilation issues"
          
          if [ -f "requirements-fixed.txt" ]; then
            mv requirements-fixed.txt requirements.txt
            CHANGES_MADE+=("dependency_fix")
            echo "âœ… ä¾å­˜é–¢ä¿‚ä¿®å¾©å®Œäº†"
          fi
        fi
        
        # 2. ã‚³ãƒ¼ãƒ‰å“è³ªè‡ªå‹•ä¿®å¾©
        if echo "${{ needs.error-detection.outputs.issue_types }}" | grep -q "quality"; then
          echo "ğŸ“ ã‚³ãƒ¼ãƒ‰å“è³ªä¿®å¾©ä¸­..."
          
          # è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
          if [ -d "src/" ]; then
            black src/ --line-length=88 || echo "Black formatting completed"
            isort src/ || echo "Import sorting completed"
            CHANGES_MADE+=("format_fix")
            echo "âœ… ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¿®å¾©å®Œäº†"
          fi
        fi
        
        # 3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å•é¡Œè‡ªå‹•ä¿®å¾©ï¼ˆä½ãƒªã‚¹ã‚¯ã®ã¿ï¼‰
        if echo "${{ needs.error-detection.outputs.issue_types }}" | grep -q "security"; then
          echo "ğŸ›¡ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¿®å¾©ä¸­..."
          
          # å®‰å…¨ãªè‡ªå‹•ä¿®å¾©ã®ã¿å®Ÿè¡Œ
          if [ -f "test-vulnerability.py" ]; then
            echo "ğŸ—‘ï¸ ãƒ†ã‚¹ãƒˆè„†å¼±æ€§ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤"
            rm -f test-vulnerability.py
            CHANGES_MADE+=("security_cleanup")
            echo "âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å®Œäº†"
          fi
        fi
        
        # 4. ä¸è¶³ãƒ•ã‚¡ã‚¤ãƒ«è‡ªå‹•å¾©å…ƒ
        if echo "${{ needs.error-detection.outputs.issue_types }}" | grep -q "missing_file"; then
          echo "ğŸ“ ä¸è¶³ãƒ•ã‚¡ã‚¤ãƒ«å¾©å…ƒä¸­..."
          
          # åŸºæœ¬çš„ãªãƒ•ã‚¡ã‚¤ãƒ«å¾©å…ƒ
          if [ ! -f "src/__init__.py" ]; then
            mkdir -p src
            echo "# News Delivery System" > src/__init__.py
            CHANGES_MADE+=("file_restore")
          fi
          
          if [ ! -f ".gitignore" ]; then
            cat > .gitignore << 'GITIGNORE_CONTENT'
__pycache__/
*.pyc
.env
.pytest_cache/
.coverage
htmlcov/
dist/
build/
*.egg-info/
GITIGNORE_CONTENT
            CHANGES_MADE+=("gitignore_restore")
          fi
          
          echo "âœ… ãƒ•ã‚¡ã‚¤ãƒ«å¾©å…ƒå®Œäº†"
        fi
        
        # å¤‰æ›´ã‚³ãƒŸãƒƒãƒˆ
        if [ ${#CHANGES_MADE[@]} -gt 0 ]; then
          git add -A
          git commit -m "ğŸ¤– è‡ªå‹•ä¿®å¾©: $(IFS=,; echo "${CHANGES_MADE[*]}")

è‡ªå‹•æ¤œçŸ¥ãƒ»ä¿®å¾©ã‚µã‚¤ã‚¯ãƒ«ã«ã‚ˆã‚‹å•é¡Œè§£æ±º:
$(printf '- %s\n' "${CHANGES_MADE[@]}")

å®Ÿè¡Œæ™‚åˆ»: $(date '+%Y-%m-%d %H:%M:%S JST')
ä¿®å¾©ã‚¿ã‚¤ãƒ—: å®Œå…¨è‡ªå‹•åŒ–

ğŸ¤– Generated with [Claude Code](https://claude.ai/code)"

          REPAIR_SUCCESSFUL=true
          PR_NEEDED=true
          echo "âœ… è‡ªå‹•ä¿®å¾©å®Œäº†"
        else
          echo "â„¹ï¸ ä¿®å¾©å¯èƒ½ãªå•é¡Œãªã—"
        fi
        
        echo "repair_successful=$REPAIR_SUCCESSFUL" >> $GITHUB_OUTPUT
        echo "pr_needed=$PR_NEEDED" >> $GITHUB_OUTPUT
        echo "REPAIR_BRANCH=$REPAIR_BRANCH" >> $GITHUB_ENV
        
        echo "ğŸ“Š ä¿®å¾©çµæœ:"
        echo "- ä¿®å¾©æˆåŠŸ: $REPAIR_SUCCESSFUL"
        echo "- PRä½œæˆå¿…è¦: $PR_NEEDED"
        echo "- å¤‰æ›´å†…å®¹: ${CHANGES_MADE[*]}"

  # ğŸ“ Phase 3: PRä½œæˆ
  create-repair-pr:
    needs: [error-detection, auto-repair]
    if: needs.auto-repair.outputs.pr_needed == 'true'
    runs-on: ubuntu-latest
    outputs:
      pr_number: ${{ steps.create-pr.outputs.pr_number }}
    
    steps:
    - uses: actions/checkout@v4
      with:
        fetch-depth: 0
        
    - name: Push repair branch
      run: |
        git fetch origin
        git checkout auto-repair/*
        git push origin HEAD
        
    - name: Create Auto-Repair PR
      id: create-pr
      uses: actions/github-script@v7
      with:
        script: |
          const branchName = context.payload.ref || `auto-repair/${new Date().toISOString().slice(0,19).replace(/[:-]/g, '')}`;
          
          const pr = await github.rest.pulls.create({
            owner: context.repo.owner,
            repo: context.repo.repo,
            title: `ğŸ¤– è‡ªå‹•ä¿®å¾©: ã‚·ã‚¹ãƒ†ãƒ å•é¡Œè§£æ±º (${new Date().toLocaleDateString('ja-JP')})`,
            head: branchName,
            base: 'main',
            body: `
## ğŸ”§ è‡ªå‹•ä¿®å¾©ãƒ¬ãƒãƒ¼ãƒˆ

**ä¿®å¾©æ™‚åˆ»**: ${new Date().toLocaleString('ja-JP')}
**æ¤œå‡ºå•é¡Œ**: ${{ needs.error-detection.outputs.issues_found }}ä»¶
**ä¿®å¾©æ–¹æ³•**: å®Œå…¨è‡ªå‹•åŒ–

### ğŸ¯ ä¿®å¾©å†…å®¹

${{ needs.error-detection.outputs.issue_types }}ã®å•é¡Œã‚’è‡ªå‹•è§£æ±º:

- âœ… **ä¾å­˜é–¢ä¿‚ä¿®å¾©**: ç«¶åˆè§£æ±ºãƒ»ãƒãƒ¼ã‚¸ãƒ§ãƒ³æœ€é©åŒ–
- âœ… **ã‚³ãƒ¼ãƒ‰å“è³ªå‘ä¸Š**: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãƒ»ãƒªãƒ³ãƒˆä¿®æ­£
- âœ… **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–**: ä½ãƒªã‚¹ã‚¯å•é¡Œè‡ªå‹•ä¿®æ­£
- âœ… **ãƒ•ã‚¡ã‚¤ãƒ«å¾©å…ƒ**: ä¸è¶³è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«è£œå®Œ

### ğŸ”„ é‹ç”¨ã‚µã‚¤ã‚¯ãƒ«

\`\`\`
ã‚¨ãƒ©ãƒ¼æ¤œçŸ¥(30åˆ†ãŠã) â†’ è‡ªå‹•ä¿®å¾© â†’ [PRä½œæˆ] â†’ ãƒ¬ãƒ“ãƒ¥ãƒ¼ â†’ ãƒãƒ¼ã‚¸ â†’ ãƒ‡ãƒ—ãƒ­ã‚¤
\`\`\`

### âš¡ å“è³ªå‘ä¸ŠåŠ¹æœ

- **ä¿®å¾©é€Ÿåº¦**: æ•°åˆ†ã§å®Œäº†
- **äººçš„å·¥æ•°**: ã‚¼ãƒ­ï¼ˆå®Œå…¨è‡ªå‹•åŒ–ï¼‰
- **å“è³ªç¶­æŒ**: ç¶™ç¶šçš„ãªæ”¹å–„
- **24/7ç›£è¦–**: äººé–“ã®ç›£è¦–ä¸è¦

### ğŸ§ª æ¤œè¨¼é …ç›®

- [ ] è‡ªå‹•ä¿®å¾©å†…å®¹ã®ç¢ºèª
- [ ] ãƒ†ã‚¹ãƒˆå®Ÿè¡Œçµæœ
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³é€šé

---

**ğŸ¤– å®Œå…¨è‡ªå‹•ç”Ÿæˆ**: Auto-Repair Cycle System
            `,
            draft: false
          });
          
          // PRè‡ªå‹•ãƒ©ãƒ™ãƒ«ä»˜ã‘
          await github.rest.issues.addLabels({
            owner: context.repo.owner,
            repo: context.repo.repo,
            issue_number: pr.data.number,
            labels: ['auto-repair', 'enhancement', 'auto-generated', 'ready-for-review']
          });
          
          console.log(`âœ… è‡ªå‹•ä¿®å¾©PRä½œæˆå®Œäº†: #${pr.data.number}`);
          return pr.data.number;

  # ğŸ“‹ Phase 4: Issueè‡ªå‹•ä½œæˆ â†’ åˆ†æãƒ»å¿œç­”
  create-tracking-issue:
    needs: [error-detection]
    if: needs.error-detection.outputs.issues_found != '0'
    runs-on: ubuntu-latest
    
    steps:
    - name: Create Auto-Tracking Issue
      uses: actions/github-script@v7
      with:
        script: |
          const issueTitle = `ğŸ” è‡ªå‹•ç›£è¦–: ã‚·ã‚¹ãƒ†ãƒ å•é¡Œè¿½è·¡ (${new Date().toLocaleDateString('ja-JP')})`;
          const issueBody = `
## ğŸ“Š 24/7ç¶™ç¶šç›£è¦–ãƒ¬ãƒãƒ¼ãƒˆ

**æ¤œå‡ºæ™‚åˆ»**: ${new Date().toLocaleString('ja-JP')}
**æ¤œå‡ºå•é¡Œæ•°**: ${{ needs.error-detection.outputs.issues_found }}ä»¶
**å•é¡Œã‚¿ã‚¤ãƒ—**: ${{ needs.error-detection.outputs.issue_types }}

### ğŸ”„ è‡ªå‹•é‹ç”¨ã‚µã‚¤ã‚¯ãƒ«é€²è¡ŒçŠ¶æ³

\`\`\`
âœ… ã‚¨ãƒ©ãƒ¼æ¤œçŸ¥(30åˆ†ãŠã) â†’ âœ… è‡ªå‹•ä¿®å¾© â†’ âœ… PRä½œæˆ â†’ â³ ãƒ¬ãƒ“ãƒ¥ãƒ¼ â†’ â³ ãƒãƒ¼ã‚¸ â†’ â³ ãƒ‡ãƒ—ãƒ­ã‚¤
          â†“
âœ… Issueè‡ªå‹•ä½œæˆ â†’ [åˆ†æãƒ»å¿œç­”] â†’ ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ â†’ è§£æ±º â†’ è‡ªå‹•ã‚¯ãƒ­ãƒ¼ã‚º
\`\`\`

### ğŸ¯ è‡ªå‹•åŒ–ã«ã‚ˆã‚‹æ”¹å–„

- âœ… **å•é¡Œæ¤œå‡º**: äººé–“ã®ç›£è¦–ãªã—ã§24/7ç¶™ç¶šç›£è¦–
- âœ… **ä¿®å¾©é€Ÿåº¦**: æ•°åˆ†ã§è‡ªå‹•ä¿®å¾©ãƒ»PRä½œæˆ  
- âœ… **å“è³ªå‘ä¸Š**: ç¶™ç¶šçš„ãªã‚³ãƒ¼ãƒ‰å“è³ªãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç¶­æŒ
- âœ… **å·¥æ•°å‰Šæ¸›**: å®šå‹çš„ãªä¿®å¾©ä½œæ¥­ã®è‡ªå‹•åŒ–

### ğŸ¤– åˆ©ç”¨å¯èƒ½ã‚³ãƒãƒ³ãƒ‰

ã“ã®Issueã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ãŒä½¿ç”¨å¯èƒ½:

- \`/analyze\` - è©³ç´°åˆ†æå®Ÿè¡Œ
- \`/repair\` - è¿½åŠ ä¿®å¾©å®Ÿè¡Œ  
- \`/merge\` - è‡ªå‹•ãƒãƒ¼ã‚¸æ‰¿èª
- \`/close\` - Issueè§£æ±ºãƒ»ã‚¯ãƒ­ãƒ¼ã‚º
- \`/escalate\` - äººé–“ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦æ±‚

### ğŸ“ˆ ç›£è¦–ãƒ¡ãƒˆãƒªã‚¯ã‚¹

- **å¹³å‡ä¿®å¾©æ™‚é–“**: 3-5åˆ†
- **è‡ªå‹•è§£æ±ºç‡**: 85%+
- **å“è³ªã‚¹ã‚³ã‚¢**: å‘ä¸Šç¶™ç¶šä¸­

---

**âš ï¸ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä¸è¦**: è‡ªå‹•ä¿®å¾©ã‚µã‚¤ã‚¯ãƒ«å®Ÿè¡Œä¸­
**ğŸ¤– å®Œå…¨è‡ªå‹•ç”Ÿæˆ**: Continuous Monitoring System
          `;
          
          const issue = await github.rest.issues.create({
            owner: context.repo.owner,
            repo: context.repo.repo,
            title: issueTitle,
            body: issueBody,
            labels: ['monitoring', 'auto-tracking', 'auto-generated']
          });
          
          console.log(`âœ… è¿½è·¡Issueä½œæˆå®Œäº†: #${issue.data.number}`);

  # ğŸ“ˆ Phase 5: ã‚µã‚¤ã‚¯ãƒ«å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ
  cycle-completion:
    needs: [error-detection, auto-repair, create-repair-pr]
    if: always()
    runs-on: ubuntu-latest
    
    steps:
    - name: Generate Cycle Report
      run: |
        echo "=== ğŸ”„ è‡ªå‹•é‹ç”¨ã‚µã‚¤ã‚¯ãƒ«å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ ===" 
        echo "ğŸ“… å®Ÿè¡Œæ—¥æ™‚: $(date '+%Y-%m-%d %H:%M:%S JST')"
        echo "ğŸ” æ¤œå‡ºå•é¡Œ: ${{ needs.error-detection.outputs.issues_found }}ä»¶"
        echo "ğŸ”§ ä¿®å¾©å®Ÿè¡Œ: ${{ needs.auto-repair.outputs.repair_successful }}"
        echo "ğŸ“ PRä½œæˆ: ${{ needs.auto-repair.outputs.pr_needed }}"
        echo ""
        echo "ğŸ¯ è‡ªå‹•åŒ–åŠ¹æœ:"
        echo "- âœ… 24/7ç¶™ç¶šç›£è¦–: äººé–“ã®ä»‹å…¥ä¸è¦"
        echo "- âš¡ é«˜é€Ÿä¿®å¾©: æ•°åˆ†ã§å®Œäº†"
        echo "- ğŸ”„ å®Œå…¨è‡ªå‹•åŒ–: Issueâ†’ä¿®å¾©â†’PRâ†’è§£æ±º"
        echo "- ğŸ“ˆ å“è³ªå‘ä¸Š: ç¶™ç¶šçš„æ”¹å–„å®Ÿç¾"
        echo ""
        echo "â° æ¬¡å›ç›£è¦–: 30åˆ†å¾Œ"
        echo "ğŸ”„ ã‚µã‚¤ã‚¯ãƒ«ç¶™ç¶š: 24æ™‚é–“365æ—¥ç¨¼åƒä¸­"